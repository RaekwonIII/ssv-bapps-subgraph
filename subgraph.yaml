specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: BasedAppManagerImpl
    network: mainnet
    source:
      abi: BasedAppManager
      address: "0xEd3afBc0af3B010815dd242f1aA20d493Ae3160d"
      startBlock: 9273
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - BAppConstants
      abis:
        - name: BasedAppManager
          file: ./abis/BasedAppManager.json
      callHandlers:
        - function: initialize(address,uint32)
          handler: handleInitialize
      file: ./src/based-app-manager.ts
  - kind: ethereum
    name: BasedAppManager
    network: mainnet
    source:
      abi: BasedAppManager
      address: "0x5217C9034048B1Fa9Fb1e300F94fCd7002138Ea5"
      startBlock: 9273
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - BAppMetadataURIUpdated
        - BAppOptedInByStrategy
        - BAppRegistered
        - BAppTokensCreated
        - BAppTokensUpdated
        - DelegationCreated
        - DelegationRemoved
        - DelegationUpdated
        - Initialized
        - MaxFeeIncrementSet
        - ObligationCreated
        - ObligationUpdateProposed
        - ObligationUpdated
        - OwnershipTransferred
        - StrategyCreated
        - StrategyDeposit
        - StrategyFeeUpdateProposed
        - StrategyFeeUpdated
        - StrategyWithdrawal
        - StrategyWithdrawalProposed
        - Upgraded
      abis:
        - name: BasedAppManager
          file: ./abis/BasedAppManager.json
      eventHandlers:
        - event: BAppMetadataURIUpdated(indexed address,string)
          handler: handleBAppMetadataURIUpdated
        - event: BAppOptedInByStrategy(indexed uint32,indexed
            address,bytes,address[],uint32[])
          handler: handleBAppOptedInByStrategy
        - event: BAppRegistered(indexed address,indexed address,address[],uint32[],string)
          handler: handleBAppRegistered
        - event: BAppTokensCreated(indexed address,address[],uint32[])
          handler: handleBAppTokensCreated
        - event: BAppTokensUpdated(indexed address,address[],uint32[])
          handler: handleBAppTokensUpdated
        - event: DelegationCreated(indexed address,indexed address,uint32)
          handler: handleDelegationCreated
        - event: DelegationRemoved(indexed address,indexed address)
          handler: handleDelegationRemoved
        - event: DelegationUpdated(indexed address,indexed address,uint32)
          handler: handleDelegationUpdated
        - event: Initialized(uint64)
          handler: handleInitialized
        - event: MaxFeeIncrementSet(uint32)
          handler: handleMaxFeeIncrementSet
        - event: ObligationCreated(indexed uint32,indexed address,address,uint32)
          handler: handleObligationCreated
        - event: ObligationUpdateProposed(indexed uint32,indexed address,address,uint32)
          handler: handleObligationUpdateProposed
        - event: ObligationUpdated(indexed uint32,indexed address,address,uint32,bool)
          handler: handleObligationUpdated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: StrategyCreated(indexed uint32,indexed address,uint32,string)
          handler: handleStrategyCreated
        - event: StrategyDeposit(indexed uint32,indexed address,address,uint256)
          handler: handleStrategyDeposit
        - event: StrategyFeeUpdated(indexed uint32,address,uint32,uint32)
          handler: handleStrategyFeeUpdated
        - event: StrategyFeeUpdateProposed(indexed uint32,address,uint32,uint32)
          handler: handleStrategyFeeUpdateProposed
        - event: StrategyWithdrawalProposed(indexed uint32,indexed
            address,address,uint256)
          handler: handleStrategyWithdrawalProposed
        - event: StrategyWithdrawal(indexed uint32,indexed address,address,uint256,bool)
          handler: handleStrategyWithdrawal
        - event: AccountMetadataURIUpdated(indexed address,string)
          handler: handleAccountMetadataURIUpdated
        - event: StrategyMetadataURIUpdated(indexed uint32,string)
          handler: handlStrategyMetadataURIUpdated
      file: ./src/based-app-manager.ts
